리액트 실전 프로그래밍

## 1. 리액트 프로젝트 시작하기

### 	- 리액트란 무엇인가

* 자동으로 업데이트 되는 UI 기능만 제공

  따라서 전역 관리 상태나 라우팅, 빌드 시스템을 직접 구축해야함

* render 함수는 순수 함수로 작성

  순수 함수의 특징 입력값이 같으면 출력값이 같다.

  랜덤 함수, 날짜 함수 사용(x)

  외부 상태 변경(x)

* state는 불변 변수로 관리

  어떤 객체의 속성을 변경할 경우, 새로운 객체를 만들어서 값을 할당하는 것이다.

  => 순수 함수와 불변 변수를 활용하면 복잡도가 낮아지고 버그가 발생할 확률도 적다. 리액트의 경우 렌더링 속도도 향상 시킬 수 있는 장점이 있음

### 바벨 사용해 보기

* 자바스크립트 코드를 변환해 주는 컴파일러
* 최신 자바스크립트 문법을 지원하지 않는 환경에서도 최신 문법 사용 가능
* 그 외에도 다양한 용도로 사용
  * 코드에서 주석을 제거 or 코드를 압축
* 리액트에서는 JSX 문법을 사용하기 위해 바벨을 사용한다.

### 웹팩 사용해 보기

* 다양한 기능 제공
  * 파일 내용을 기반으로 파일 이름에 해시값 추가 => 효율적으로 브라우저 캐싱 이용
  * 사용되지 않는 코드 제거
  * 자바스크립트 압축
  * JS에서 CSS, JSON, 텍스트 파일 등을 일반 모듈처럼 불러오기
  * 환경 변수 주입
* 웹팩을 사용하는 가장 큰 이유
  => 모듈 시스템(ESM, commonJS)을 사용하고 싶어서
  * ESM : ES6에서 추가됨
  * c    ommonJS : Node에서 주로 사용

* 요즘 브라우저는 ESM을 지원한다. 하지만..
  * 오래된 브라우저도 지원해야 하는 문제
  * 많은 오픈 소스가 commonJS로 작성됨 => 요즘 브라우저는 commonJS 처리를 못하기 때문에 어쩔 수 없이 웹팩을 사용해야함.




* 실제로 불러오는 모습을 network에서 확인할 수 있다.

![image-20210618234851057](/Users/hyeonsung/Library/Application Support/typora-user-images/image-20210618234851057.png)



### create-react-app으로 시작하기

* 리액트 개발 환경을 직접 구축하기 위해 필요한 노력
  * Webpack, Babel : 빌드 시스템 구축
  * Jest : 테스트 환경 구축
  * Eslint : 코딩 컨벤션 자동 체크
  * Polyfill : 오래된 브라우저를 위한 스크립트 변환
  * HMR : Vue의 핫 리로딩과 같은 기능 (Hot Module Replacement)
  * CSS 후처리 : SASS를 사용할 경우 CSS 컴파일 과정이 필요한 것 또는 오래된 브라우저를 지원하기 위해 벤더 접두사



* cra(create-react-app)을 통해 만들 경우 단점
  * SSR을 쓸 수 없다.
  * 바벨, 웹팩, eslint 등의 설정을 변경할 수 없다.



* index.js - serviceWorker : PWA 사용할 시에 필요
  * serviceWorker.unregister() -> serviceWorker.register()



* App.js에서 로고 img를 자바스크립트에서 import해서 src에 입력을 해주고 있다.

  WHY => CSS나 img 파일을 이와 같은 방식으로 사용할 경우 이미지 경로에 해시 값이 들어가 브라우저 캐싱을 효율적으로 활용할 수 있기 때문



* data의 경우 json파일로 관리할 수 있는데 너무 큰 파일일 때 미리 import해서 무작정 받아오고 보여주는 것이 아니라 필요할 때 받아오게 할 수 있다

  HOW => 클릭되었거나 어떠한 이벤트를 기점으로 import하여 데이터를 클라이언트단에 보여주도록 함

  ```react
  function App() {
    function onClick() {
      import('.data.json').then(({ default: data}) => {
        console.log({ data });
      });
    }
  	return (
    	<button onClick={onClick}>데이터 보여주세요</button>
    )
  }
  ```

  
